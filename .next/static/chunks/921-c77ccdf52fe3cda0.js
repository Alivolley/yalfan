"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[921],{7886:function(e,s,l){var r=l(4836);s.Z=void 0;var d=r(l(4938)),t=l(5893),n=(0,d.default)((0,t.jsx)("path",{d:"M20 1v3h3v2h-3v3h-2V6h-3V4h3V1h2zm-8 12c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm1-9.94v2.02A6.53 6.53 0 0 0 12 5c-3.35 0-6 2.57-6 6.2 0 2.34 1.95 5.44 6 9.14 4.05-3.7 6-6.79 6-9.14V11h2v.2c0 3.32-2.67 7.25-8 11.8-5.33-4.55-8-8.48-8-11.8C4 6.22 7.8 3 12 3c.34 0 .67.02 1 .06z"}),"AddLocationAltOutlined");s.Z=n},1136:function(e,s,l){var r=l(4836);s.Z=void 0;var d=r(l(4938)),t=l(5893),n=(0,d.default)((0,t.jsx)("path",{d:"M20 24H4c-1.1 0-2-.9-2-2s.9-2 2-2h16c1.1 0 2 .9 2 2s-.9 2-2 2zM13.06 5.19l3.75 3.75-8.77 8.77c-.18.19-.44.29-.7.29H5c-.55 0-1-.45-1-1v-2.34c0-.27.11-.52.29-.71l8.77-8.76zm4.82 2.68-3.75-3.75 1.83-1.83c.39-.39 1.02-.39 1.41 0l2.34 2.34c.39.39.39 1.02 0 1.41l-1.83 1.83z"}),"BorderColorRounded");s.Z=n},6907:function(e,s,l){var r=l(4836);s.Z=void 0;var d=r(l(4938)),t=l(5893),n=(0,d.default)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");s.Z=n},3592:function(e,s,l){var r=l(4836);s.Z=void 0;var d=r(l(4938)),t=l(5893),n=(0,d.default)((0,t.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"HighlightOff");s.Z=n},1354:function(e,s){s.Z={src:"/_next/static/media/no-address.e5867990.png",height:346,width:383,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAAwklEQVR42mOAgQ07DjDD2Dv3H2OauWQ9E5gzf+VmxlWbdrOA2DfvPOKbOHeTJEzh3OWbmBiWrd/NOHPperCCZy/f5O0/drEWyGR9+/4Vy+xlGyGmfvr8jRFEf/z0JenKjfuhIPbk+Zs4vDP7IQoiC6fyAimunfvPqExftE0OZIJ9Yo8wWNI8rkvMOLpT2CO9X5yBIUOQQb2Ut3/ORibTmE4ui9guZgYgYWIR1+VlHtsVD9TlYpPQYwtkRwPFzC1iu1gAvvVHG1fDR+MAAAAASUVORK5CYII=",blurWidth:8,blurHeight:7}},2253:function(e,s,l){var r=l(5591),d=l(1042);s.Z=()=>(0,r.ZP)("accounts/address/list_create/",e=>(0,d.Z)(e).then(e=>e.data))},7848:function(e,s,l){l.d(s,{Z:function(){return b}});var r=l(5893),d=l(7294),t=l(3946),n=l(6907),a=l(1136),i=l(283),o=l(4640),c=l(1163),u=l(1812),x=l(8262),m=l(9417),f=l(4334),v=l(5591),h=l(1042),p=()=>{let{mutate:e}=(0,v.kY)();return(0,f.Z)("accounts/address/get_update_delete/",(s,l)=>h.Z.delete(s,{params:{pk:l.arg}}).then(s=>(e("accounts/address/list_create/",e=>{let s=null==e?void 0:e.filter(e=>(null==e?void 0:e.id)!==(null==l?void 0:l.arg));return s}),s.data)))},g=function(e){let{show:s,onClose:l,detail:d}=e,{locale:t}=(0,c.useRouter)(),n=(0,o.useTranslations)("addresses"),{trigger:a,isMutating:i}=p();return(0,r.jsx)(x.Z,{open:s,onClose:l,dir:"en"===t?"ltr":"rtl",children:(0,r.jsxs)("div",{className:"flex flex-col gap-10 bg-white px-10 py-5",children:[(0,r.jsx)("p",{className:"text-center text-base font-bold",children:n("Are you sure about deleting this address ?")}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(u.Z,{variant:"contained",color:"customPink2",fullWidth:!0,onClick:()=>{a(null==d?void 0:d.id,{onSuccess:()=>{l()}})},loading:i,className:"!rounded-10 !py-[9px] !text-[#B1302E]",children:n("Yes")}),(0,r.jsx)(m.Z,{variant:"outlined",color:"textColor",fullWidth:!0,className:"!rounded-10 !py-2",onClick:l,disabled:i,children:n("No")})]})]})})},b=function(e){let{isClickable:s=!1,detail:l,onClick:o=()=>{},isActive:c=!1}=e,[u,x]=(0,d.useState)(!1),[m,f]=(0,d.useState)(!1);return(0,r.jsxs)("div",{className:"flex items-center justify-between rounded-2xl bg-white p-4 customMd:px-8",children:[(0,r.jsxs)("div",{className:"cursor-pointer",onClick:o,children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-base customMd:text-lg ".concat(c?"font-bold":"text-[#626E94]"),children:[s&&(0,r.jsx)("div",{className:"h-4 w-4 rounded-full border-[4px] border-solid ".concat(c?"border-[#D14D72]":"border-[#BDCEDE]")}),null==l?void 0:l.recipient_name]}),(0,r.jsxs)("p",{className:"text-xs customMd:text-sm ".concat(c?"":"text-[#626E94]"),children:[null==l?void 0:l.address," - ",null==l?void 0:l.phone_number]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(t.Z,{onClick:()=>x(!0),children:(0,r.jsx)(a.Z,{color:"customBlue",className:"!text-base"})}),(0,r.jsx)(t.Z,{onClick:()=>f(!0),children:(0,r.jsx)(n.Z,{className:"!text-xl",color:"customPinkHigh"})})]}),(0,r.jsx)(i.Z,{show:u,onClose:()=>x(!1),isEdit:!0,detail:l}),(0,r.jsx)(g,{show:m,onClose:()=>f(!1),detail:l})]})}},283:function(e,s,l){l.d(s,{Z:function(){return N}});var r=l(5893),d=l(4640),t=l(7294),n=l(7536),a=l(1163),i=l(8262),o=l(3946),c=l(135),u=l(6815),x=l(9417),m=l(1812),f=l(7555),v=l.n(f);l(1776);var h=l(3592),p=l(4334),g=l(5591),b=l(1042),j=()=>{let{mutate:e}=(0,g.kY)();return(0,p.Z)("accounts/address/list_create/",(s,l)=>b.Z.post(s,l.arg).then(s=>(e("accounts/address/list_create/",e=>{let l=[...e,s.data];return l}),s.data)))},A=()=>{let{mutate:e}=(0,g.kY)();return(0,p.Z)("accounts/address/get_update_delete/",(s,l)=>{var r,d;return b.Z.patch(s,null===(r=l.arg)||void 0===r?void 0:r.newAddress,{params:{pk:null===(d=l.arg)||void 0===d?void 0:d.addressId}}).then(s=>(e("accounts/address/list_create/",e=>{let r=e.filter(e=>{var s;return(null==e?void 0:e.id)!==(null===(s=l.arg)||void 0===s?void 0:s.addressId)});return r.push(s.data),r}),s.data))})},N=function(e){var s,l,f;let{show:p,onClose:g,isEdit:b=!1,detail:N}=e,{trigger:Z,isMutating:C}=j(),{trigger:k,isMutating:w}=A(),{locale:E}=(0,a.useRouter)(),P=(0,d.useTranslations)("addresses"),{register:_,handleSubmit:y,formState:{errors:z},reset:O,setValue:W,control:M}=(0,n.cI)({defaultValues:{postCode:"",fullAddress:"",transfereeFullName:"",transfereePhoneNumber:""},mode:"onSubmit"}),T=()=>{g(),b||O()};return(0,t.useEffect)(()=>{b&&(W("fullAddress",null==N?void 0:N.address),W("postCode",null==N?void 0:N.postal_code),W("transfereeFullName",null==N?void 0:N.recipient_name),W("transfereePhoneNumber",null==N?void 0:N.phone_number))},[N,null==N?void 0:N.id]),(0,r.jsx)(i.Z,{open:p,onClose:T,fullWidth:!0,dir:"en"===E?"ltr":"rtl",children:(0,r.jsxs)("div",{className:"relative p-5 pt-0",children:[(0,r.jsxs)("div",{className:"sticky top-0 z-[2] flex h-10 w-full items-center bg-white py-7",children:[(0,r.jsx)(o.Z,{onClick:T,children:(0,r.jsx)(h.Z,{})}),(0,r.jsx)("p",{className:"grow text-center text-lg font-bold",children:P(b?"Edit address":"Add new address")})]}),(0,r.jsx)("p",{className:"my-6 rounded-10 bg-[#F5F8FC] p-4 font-bold",children:P("Address information")}),(0,r.jsxs)("form",{onSubmit:y(e=>{let s={address:null==e?void 0:e.fullAddress,recipient_name:null==e?void 0:e.transfereeFullName,phone_number:null==e?void 0:e.transfereePhoneNumber,postal_code:null==e?void 0:e.postCode};b?k({newAddress:s,addressId:null==N?void 0:N.id},{onSuccess:()=>{T()}}):Z(s,{onSuccess:()=>{T()}})}),className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-1 flex-col gap-1",children:[(0,r.jsx)("p",{className:"text-sm text-[#7E8AAB]",children:P("Post code")}),(0,r.jsx)(c.Z,{variant:"outlined",fullWidth:!0,color:"customPink",type:"number",sx:{input:{MozAppearance:"textfield",appearance:"textfield","&::-webkit-inner-spin-button":{WebkitAppearance:"none",appearance:"none"}}},..._("postCode",{required:{value:!0,message:P("This filed is required")}}),error:!!(null==z?void 0:z.postCode),helperText:null==z?void 0:null===(s=z.postCode)||void 0===s?void 0:s.message,disabled:C||w})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("p",{className:"text-sm text-[#7E8AAB]",children:P("Your accurate address")}),(0,r.jsx)(c.Z,{variant:"outlined",fullWidth:!0,multiline:!0,rows:5,color:"customPink",..._("fullAddress",{required:{value:!0,message:P("This filed is required")}}),error:!!(null==z?void 0:z.fullAddress),helperText:null==z?void 0:null===(l=z.fullAddress)||void 0===l?void 0:l.message,disabled:C||w})]}),(0,r.jsx)("p",{className:"my-6 rounded-10 bg-[#F5F8FC] p-4 font-bold",children:P("Transferee information")}),(0,r.jsxs)("div",{className:"flex flex-col gap-3 customSm:flex-row",children:[(0,r.jsxs)("div",{className:"flex flex-1 flex-col gap-1",children:[(0,r.jsx)("p",{className:"text-sm text-[#7E8AAB]",children:P("Transferee fullName")}),(0,r.jsx)(c.Z,{variant:"outlined",fullWidth:!0,color:"customPink",..._("transfereeFullName",{required:{value:!0,message:P("This filed is required")}}),error:!!(null==z?void 0:z.transfereeFullName),helperText:null==z?void 0:null===(f=z.transfereeFullName)||void 0===f?void 0:f.message,disabled:C||w})]}),(0,r.jsxs)("div",{className:"flex flex-1 flex-col gap-1",children:[(0,r.jsx)("p",{className:"text-sm text-[#7E8AAB]",children:P("Transferee phoneNumber")}),(0,r.jsx)("div",{dir:"ltr",children:(0,r.jsx)(n.Qr,{control:M,name:"transfereePhoneNumber",rules:{required:P("This filed is required")},render:e=>{var s,l,d;let{field:{onChange:t,value:n},fieldState:a}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v(),{country:"ir",inputClass:"!w-full",specialLabel:"",inputStyle:{borderRadius:"10px",...(null==z?void 0:null===(s=z.transfereePhoneNumber)||void 0===s?void 0:s.message)&&{borderColor:"red"}},value:n,onChange:t,disabled:C||w}),a.invalid?(null==z?void 0:null===(l=z.transfereePhoneNumber)||void 0===l?void 0:l.message)&&(0,r.jsx)(u.Z,{error:!0,children:null==z?void 0:null===(d=z.transfereePhoneNumber)||void 0===d?void 0:d.message}):null]})}})})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-3 customSm:flex-row customSm:items-stretch",children:[(0,r.jsx)("div",{className:"grow-[2]",children:(0,r.jsx)(m.Z,{variant:"contained",type:"submit",size:"large",color:"customPink2",loading:C||w,fullWidth:!0,className:"!rounded-10 !p-3 !text-[#B1302E]",children:P(b?"Edit address":"Add address")})}),(0,r.jsx)("div",{className:"grow-[1]",children:(0,r.jsx)(x.Z,{onClick:T,variant:"contained",fullWidth:!0,className:"!h-full !rounded-10 !py-3 !font-bold !text-[#626E94]",color:"borderColor",disabled:C||w,children:P("Cancel")})})]})]})]})})}}}]);